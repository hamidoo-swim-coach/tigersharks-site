/* Cool avatar effects */ .floaty-avatar { animation: floatAvatar 3.5s ease-in-out infinite; filter: drop-shadow(0 0 18px rgba(6,182,212,0.45)); } @keyframes floatAvatar { 0%, 100% { transform: translateY(0px) scale(1); } 50% { transform: translateY(-10px) scale(1.02); } } .avatar-ring { background: conic-gradient(from 180deg, #06b6d4, #3b82f6, #8b5cf6, #06b6d4); padding: 3px; border-radius: 9999px; } /* PB Glow + Pulse (Style B) */ .pb-glow { border: 2px solid rgba(34, 197, 94, 0.55) !important; box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.12), 0 18px 40px rgba(34, 197, 94, 0.18); background: linear-gradient(135deg, rgba(34, 197, 94, 0.10), rgba(6, 182, 212, 0.08)); } .pb-pulse { animation: pbPulse 1.5s ease-in-out infinite; } @keyframes pbPulse { 0%, 100% { transform: scale(1); filter: brightness(1); } 50% { transform: scale(1.01); filter: brightness(1.06); } }


ï¿¼
Tigersharks Swim Team
Excellence in Every Stroke
ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Parent Portal ðŸ” Admin Login
ï¿¼
Tigersharks Swim Team
Building Champions in and Out of the Pool
Join our competitive swim team where dedication meets excellence. Under the guidance of experienced coaches, our swimmers develop technique, strength, and character that lasts a lifetime.
ðŸ“… View Training Schedule â„¹ï¸ Learn More
ï¿¼
ï¿¼
ï¿¼
ðŸ“°
Team News & Updates
Stay informed with the latest team announcements
No news available at this time.
ï¿¼
Meet Coach Hamidoo
Head Coach & Team Director
ðŸŽ¯
Our Vision
Building champions in and out of the pool. Every stroke brings us closer to excellence.
ðŸ…
Our Values
Discipline, teamwork, perseverance, and sportsmanship guide everything we do.
ðŸ’ª
Our Promise
Personalized coaching to help every swimmer reach their full potential.
ðŸ“…
Training Schedule
Consistent practice makes perfect swimmers
Weekday Sessions
Mon & Wed: 6:30 AM - 7:20 AM
Technique-focused morning sessions
Extended Training
Sun, Tue & Thu: 2:30 PM - 4:30 PM
Dryland training + Swimming practice
ðŸ“ Location: BISR Al-Waha Campus
ðŸŠâ€â™‚ï¸
What We Offer
Comprehensive training for all skill levels
ðŸŠâ€â™‚ï¸
Expert Coaching
Professional guidance from certified coaches
ðŸ“Š
Performance Tracking
Monitor progress with detailed analytics
ðŸ†
Competition Ready
Regular meets and championship preparation
ðŸ‘¥
Team Culture
Supportive environment and lasting friendships


Ready to Dive In?
Access the Parent Portal to track your swimmer's progress, view upcoming meets, and stay connected with the team.
ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Enter Parent Portal
ðŸ”
Admin Login
Enter your credentials to access the admin dashboard
Admin Password
ðŸ”“ Access Admin Dashboard Cancel
ï¿¼
Tigersharks Swim Team
Coach Hamidoo - Head Coach
ADMIN Logout


Welcome Back, Coach Hamidoo! ðŸŠâ€â™‚ï¸
Manage your team, track performance, and schedule meets.
ðŸŽ¯
Our Vision
Building champions in and out of the pool. Every stroke brings us closer to excellence.
ðŸ“…
Training Schedule
Mon & Wed: 6:30 AM - 7:20 AM
Sun, Tue & Thu: 2:30 PM - 4:30 PM (Dryland & Swimming)
ðŸ“ BISR Al-Waha Campus
ðŸ’ª
Coach's Message
"Champions are made when nobody is watching. Your dedication today shapes your victories tomorrow!"
- Coach Hamidoo
Total Swimmers
0
ðŸŠâ€â™‚ï¸
Times Recorded
0
â±ï¸
Upcoming Meets
0
ðŸ“…
ðŸŠâ€â™‚ï¸ Swimmers â±ï¸ Times ðŸ“… Meets ðŸ“° News âš™ï¸ Settings
âž•
Add New Swimmer
Swimmer Name *
Age *
Parent Name *
Parent Email *
ðŸŠâ€â™‚ï¸ Add Swimmer
ðŸ‘¥
Team Roster
No swimmers added yet. Add your first swimmer above!
â±ï¸
Record New Time
Swimmer *  Select swimmer 
Event *  Select event 50m Freestyle 100m Freestyle 50m Backstroke 100m Backstroke 50m Breaststroke 100m Breaststroke 50m Butterfly 100m Butterfly 200m IM 
Time (mm:ss.ms) *
Date *
Meet Name (Optional)
â±ï¸ Record Time
ðŸ“Š
Recorded Times
No times recorded yet. Add times using the form above!
ðŸ“…
Add Upcoming Meet
Meet Name *
Date *
Location *
Notes
ðŸ“… Add Meet
ðŸ—“ï¸
Upcoming Meets
No upcoming meets scheduled. Add meets using the form above!
ðŸ“¢
Team News Feed
Use the Data button above to post news
No news posted yet. Use the Data button above to add team news!
âš™ï¸
Team Settings
Team Name
Coach Name
Team Tagline
Team Description
Training Schedule
Weekday Schedule
Extended Training
Training Location
Admin Password
Change Admin Password
Leave blank to keep current password
ðŸ’¾ Save Settings
ï¿¼
Tigersharks Swim Team
ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Parent Portal
â† Back to Home
ðŸ‘¨â€ðŸ‘©â€ðŸ‘§
Parent Portal - View Your Child's Progress
Select Your Swimmer  Choose your child... 
ï¿¼
Swimmer Performance
Progress & Personal Bests
Total Swims
0
Personal Records
0
Events Competed
0
ðŸ“ˆ
Swim Time Progression

ðŸ“Š
Performance by Event

ðŸ“…
Upcoming Meets

ðŸ“°
Team News & Updates

const defaultConfig = { team_name: "Tigersharks Swim Team", coach_name: "Coach Hamidoo", welcome_message: "Manage your team, track performance, and schedule meets.", hero_tagline: "Building Champions in and Out of the Pool", hero_description: "Join our competitive swim team where dedication meets excellence. Under the guidance of experienced coaches, our swimmers develop technique, strength, and character that lasts a lifetime.", weekday_schedule: "Mon & Wed: 6:30 AM - 7:20 AM", weekend_schedule: "Sun, Tue & Thu: 2:30 PM - 4:30 PM (Dryland & Swimming)", training_location: "BISR Al-Waha Campus", admin_password: "swim2024", background_color: "#0f172a", surface_color: "#ffffff", text_color: "#1f2937", primary_action_color: "#2563eb", secondary_action_color: "#764ba2", font_family: "Inter", font_size: 16 }; let allData = []; let currentView = 'landing'; let adminView = 'swimmers'; let recordCount = 0; let isAuthenticated = false; // âœ… Local storage fallback (works on Vercel) const STORAGE_KEY = "tigersharks_records_v1"; function loadLocalData() { try { const raw = localStorage.getItem(STORAGE_KEY); return raw ? JSON.parse(raw) : []; } catch { return []; } } function saveLocalData(data) { localStorage.setItem(STORAGE_KEY, JSON.stringify(data)); } function triggerDataChanged() { dataHandler.onDataChanged(allData); } // Wrap SDK calls so the site works with or without /_sdk async function createRecord(record) { // If builder SDK exists, use it if (window.dataSdk && window.dataSdk.create) { return await window.dataSdk.create(record); } // Otherwise save locally record.__backendId = record.id; // so your edit/delete works allData.push(record); saveLocalData(allData); triggerDataChanged(); return { isOk: true }; } async function updateRecord(record) { if (window.dataSdk && window.dataSdk.update) { return await window.dataSdk.update(record); } const idx = allData.findIndex(r => r.__backendId === record.__backendId); if (idx !== -1) allData[idx] = record; saveLocalData(allData); triggerDataChanged(); return { isOk: true }; } async function deleteRecordLocal(record) { if (window.dataSdk && window.dataSdk.delete) { return await window.dataSdk.delete(record); } allData = allData.filter(r => r.__backendId !== record.__backendId); saveLocalData(allData); triggerDataChanged(); return { isOk: true }; } const dataHandler = { onDataChanged(data) { allData = data; recordCount = data.length; updateStatistics(); renderAdminView(); updateSwimmerDropdown(); updateParentPortalDropdown(); } }; async function onConfigChange(config) { const teamName = config.team_name || defaultConfig.team_name; const coachName = config.coach_name || defaultConfig.coach_name; const welcomeMessage = config.welcome_message || defaultConfig.welcome_message; const heroTagline = config.hero_tagline || defaultConfig.hero_tagline; const heroDescription = config.hero_description || defaultConfig.hero_description; const weekdaySchedule = config.weekday_schedule || defaultConfig.weekday_schedule; const weekendSchedule = config.weekend_schedule || defaultConfig.weekend_schedule; const trainingLocation = config.training_location || defaultConfig.training_location; const backgroundColor = config.background_color || defaultConfig.background_color; const surfaceColor = config.surface_color || defaultConfig.surface_color; const textColor = config.text_color || defaultConfig.text_color; const primaryActionColor = config.primary_action_color || defaultConfig.primary_action_color; const secondaryActionColor = config.secondary_action_color || defaultConfig.secondary_action_color; const fontFamily = config.font_family || defaultConfig.font_family; const fontSize = config.font_size || defaultConfig.font_size; // Update landing page const navTeamName = document.getElementById('nav-team-name'); const heroTeamName = document.getElementById('hero-team-name'); const heroTaglineEl = document.getElementById('hero-tagline'); const heroDescriptionEl = document.getElementById('hero-description'); const coachSectionName = document.getElementById('coach-section-name'); const scheduleWeekday = document.getElementById('schedule-weekday'); const scheduleWeekend = document.getElementById('schedule-weekend'); const scheduleLocation = document.getElementById('schedule-location'); if (navTeamName) { navTeamName.textContent = teamName; navTeamName.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; } if (heroTeamName) { heroTeamName.textContent = teamName; heroTeamName.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; } if (heroTaglineEl) { heroTaglineEl.textContent = heroTagline; heroTaglineEl.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; } if (heroDescriptionEl) { heroDescriptionEl.textContent = heroDescription; heroDescriptionEl.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; } if (coachSectionName) { coachSectionName.textContent = `Meet ${coachName}`; coachSectionName.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; } if (scheduleWeekday) { scheduleWeekday.textContent = weekdaySchedule; scheduleWeekday.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; } if (scheduleWeekend) { scheduleWeekend.textContent = weekendSchedule; scheduleWeekend.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; } if (scheduleLocation) { scheduleLocation.textContent = trainingLocation; scheduleLocation.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; } // Update admin dashboard const teamNameEl = document.getElementById('team-name'); const coachNameEl = document.getElementById('coach-name'); const welcomeMessageEl = document.getElementById('welcome-message'); const weekdayEl = document.getElementById('weekday-schedule'); const weekendEl = document.getElementById('weekend-schedule'); const locationEl = document.getElementById('training-location'); if (teamNameEl) { teamNameEl.textContent = teamName; teamNameEl.style.color = textColor; teamNameEl.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; teamNameEl.style.fontSize = `${fontSize * 1.5}px`; } if (coachNameEl) { coachNameEl.textContent = `${coachName} - Head Coach`; coachNameEl.style.color = textColor; coachNameEl.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; coachNameEl.style.fontSize = `${fontSize * 0.875}px`; } if (welcomeMessageEl) { welcomeMessageEl.textContent = welcomeMessage; welcomeMessageEl.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; welcomeMessageEl.style.fontSize = `${fontSize * 1.25}px`; } if (weekdayEl) { weekdayEl.textContent = weekdaySchedule; weekdayEl.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; weekdayEl.style.fontSize = `${fontSize * 0.875}px`; } if (weekendEl) { weekendEl.textContent = weekendSchedule; weekendEl.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; weekendEl.style.fontSize = `${fontSize * 0.875}px`; } if (locationEl) { locationEl.textContent = `ðŸ“ ${trainingLocation}`; locationEl.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; locationEl.style.fontSize = `${fontSize * 0.75}px`; } // Update parent portal const parentTeamName = document.getElementById('parent-team-name'); if (parentTeamName) { parentTeamName.textContent = teamName; parentTeamName.style.color = textColor; parentTeamName.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; } document.getElementById('app').style.background = `linear-gradient(135deg, ${backgroundColor} 0%, ${secondaryActionColor} 100%)`; const buttons = document.querySelectorAll('button[type="submit"]'); buttons.forEach(btn => { btn.style.background = `linear-gradient(to right, ${primaryActionColor}, ${secondaryActionColor})`; btn.style.fontFamily = `${fontFamily}, Inter, system-ui, sans-serif`; btn.style.fontSize = `${fontSize}px`; }); } // Initialize SDKs (async () => { // If you're running this on the original builder host, dataSdk exists. // On Vercel/Netlify, dataSdk usually doesn't exist, so we fall back to localStorage. if (window.dataSdk && window.dataSdk.init) { const initResult = await window.dataSdk.init(dataHandler); if (!initResult.isOk) { console.error("Failed to initialize data SDK"); } } else { // Local fallback (so Add Swimmer / Record Time works on your own hosting) allData = loadLocalData().map(r => ({ ...r, __backendId: r.__backendId || r.id })); recordCount = allData.length; triggerDataChanged(); } if (window.elementSdk) { window.elementSdk.init({ defaultConfig, onConfigChange, mapToCapabilities: (config) => ({ recolorables: [ { get: () => config.background_color || defaultConfig.background_color, set: (value) => { config.background_color = value; window.elementSdk.setConfig({ background_color: value }); } }, { get: () => config.surface_color || defaultConfig.surface_color, set: (value) => { config.surface_color = value; window.elementSdk.setConfig({ surface_color: value }); } }, { get: () => config.text_color || defaultConfig.text_color, set: (value) => { config.text_color = value; window.elementSdk.setConfig({ text_color: value }); } }, { get: () => config.primary_action_color || defaultConfig.primary_action_color, set: (value) => { config.primary_action_color = value; window.elementSdk.setConfig({ primary_action_color: value }); } }, { get: () => config.secondary_action_color || defaultConfig.secondary_action_color, set: (value) => { config.secondary_action_color = value; window.elementSdk.setConfig({ secondary_action_color: value }); } } ], borderables: [], fontEditable: { get: () => config.font_family || defaultConfig.font_family, set: (value) => { config.font_family = value; window.elementSdk.setConfig({ font_family: value }); } }, fontSizeable: { get: () => config.font_size || defaultConfig.font_size, set: (value) => { config.font_size = value; window.elementSdk.setConfig({ font_size: value }); } } }), mapToEditPanelValues: (config) => new Map([ ["team_name", config.team_name || defaultConfig.team_name], ["coach_name", config.coach_name || defaultConfig.coach_name], ["welcome_message", config.welcome_message || defaultConfig.welcome_message], ["hero_tagline", config.hero_tagline || defaultConfig.hero_tagline], ["hero_description", config.hero_description || defaultConfig.hero_description], ["weekday_schedule", config.weekday_schedule || defaultConfig.weekday_schedule], ["weekend_schedule", config.weekend_schedule || defaultConfig.weekend_schedule], ["training_location", config.training_location || defaultConfig.training_location], ["admin_password", config.admin_password || defaultConfig.admin_password] ]) }); await onConfigChange(window.elementSdk.config); } })(); // Navigation handlers document.getElementById('btn-parent-portal').addEventListener('click', () => showView('parent-portal')); document.getElementById('btn-cta-parent-portal').addEventListener('click', () => showView('parent-portal')); document.getElementById('btn-admin-login').addEventListener('click', () => { document.getElementById('admin-login-modal').classList.remove('hidden'); }); document.getElementById('btn-cancel-login').addEventListener('click', () => { document.getElementById('admin-login-modal').classList.add('hidden'); document.getElementById('admin-password').value = ''; }); document.getElementById('parent-back-btn').addEventListener('click', () => showView('landing')); document.getElementById('admin-logout-btn').addEventListener('click', () => { isAuthenticated = false; showView('landing'); }); document.getElementById('btn-view-schedule').addEventListener('click', () => { document.getElementById('team-info-section').scrollIntoView({ behavior: 'smooth' }); }); document.getElementById('btn-scroll-info').addEventListener('click', () => { document.getElementById('team-info-section').scrollIntoView({ behavior: 'smooth' }); }); // Admin login form document.getElementById('admin-login-form').addEventListener('submit', (e) => { e.preventDefault(); const config = window.elementSdk ? window.elementSdk.config : defaultConfig; const adminPassword = config.admin_password || defaultConfig.admin_password; const enteredPassword = document.getElementById('admin-password').value; if (enteredPassword === adminPassword) { isAuthenticated = true; document.getElementById('admin-login-modal').classList.add('hidden'); showView('admin'); document.getElementById('admin-password').value = ''; } else { showMessage('Incorrect password. Please try again.'); document.getElementById('admin-password').value = ''; } }); function showView(view) { document.getElementById('landing-page').classList.toggle('hidden', view !== 'landing'); document.getElementById('admin-dashboard').classList.toggle('hidden', view !== 'admin'); document.getElementById('parent-portal-view').classList.toggle('hidden', view !== 'parent-portal'); currentView = view; if (view === 'parent-portal') { updateParentPortalDropdown(); } else if (view === 'admin') { switchAdminTab('swimmers'); } } // Admin tab navigation document.getElementById('tab-swimmers').addEventListener('click', () => switchAdminTab('swimmers')); document.getElementById('tab-times').addEventListener('click', () => switchAdminTab('times')); document.getElementById('tab-meets').addEventListener('click', () => switchAdminTab('meets')); document.getElementById('tab-news').addEventListener('click', () => switchAdminTab('news')); document.getElementById('tab-settings').addEventListener('click', () => switchAdminTab('settings')); function switchAdminTab(tab) { adminView = tab; const tabs = ['swimmers', 'times', 'meets', 'news', 'settings']; tabs.forEach(t => { const btn = document.getElementById(`tab-${t}`); if (t === tab) { btn.style.background = 'linear-gradient(to right, #06b6d4, #2563eb)'; btn.classList.add('shadow-md', 'text-white'); btn.classList.remove('text-gray-700', 'hover:bg-gray-100'); } else { btn.style.background = ''; btn.classList.remove('text-white', 'shadow-md'); btn.classList.add('text-gray-700', 'hover:bg-gray-100'); } }); document.getElementById('view-swimmers').classList.toggle('hidden', tab !== 'swimmers'); document.getElementById('view-times').classList.toggle('hidden', tab !== 'times'); document.getElementById('view-meets').classList.toggle('hidden', tab !== 'meets'); document.getElementById('view-news').classList.toggle('hidden', tab !== 'news'); document.getElementById('view-settings').classList.toggle('hidden', tab !== 'settings'); if (tab === 'settings') { loadSettingsForm(); } } function updateStatistics() { const swimmers = allData.filter(d => d.type === 'swimmer'); const times = allData.filter(d => d.type === 'time'); const meets = allData.filter(d => d.type === 'meet'); document.getElementById('stat-swimmers').textContent = swimmers.length; document.getElementById('stat-times').textContent = times.length; document.getElementById('stat-meets').textContent = meets.length; } // Add swimmer form document.getElementById('form-add-swimmer').addEventListener('submit', async (e) => { e.preventDefault(); const form = e.target; const editId = form.dataset.editId; if (!editId && recordCount >= 999) { showMessage('Maximum limit of 999 records reached. Please delete some records first.'); return; } const btn = document.getElementById('btn-add-swimmer'); btn.disabled = true; btn.textContent = editId ? 'Updating...' : 'Adding...'; if (editId) { const existingSwimmer = allData.find(r => r.__backendId === editId); if (existingSwimmer) { existingSwimmer.swimmer_name = document.getElementById('swimmer-name').value; existingSwimmer.age = parseInt(document.getElementById('swimmer-age').value); existingSwimmer.parent_name = document.getElementById('parent-name').value; existingSwimmer.parent_email = document.getElementById('parent-email').value; const result = await updateRecord(existingSwimmer); btn.disabled = false; btn.textContent = 'ðŸŠâ€â™‚ï¸ Add Swimmer'; if (result.isOk) { form.reset(); delete form.dataset.editId; document.querySelector('#view-swimmers h2').textContent = 'Add New Swimmer'; const cancelBtn = document.querySelector('#form-add-swimmer button[type="button"]'); if (cancelBtn) cancelBtn.remove(); showMessage('Swimmer updated successfully!', 'success'); } else { showMessage('Failed to update swimmer. Please try again.'); btn.textContent = 'ðŸ’¾ Update Swimmer'; } } } else { const swimmer = { id: Date.now().toString(), type: 'swimmer', swimmer_name: document.getElementById('swimmer-name').value, age: parseInt(document.getElementById('swimmer-age').value), parent_name: document.getElementById('parent-name').value, parent_email: document.getElementById('parent-email').value, created_at: new Date().toISOString() }; const result = await createRecord(swimmer); btn.disabled = false; btn.textContent = 'ðŸŠâ€â™‚ï¸ Add Swimmer'; if (result.isOk) { e.target.reset(); showMessage('Swimmer added successfully!', 'success'); } else { showMessage('Failed to add swimmer. Please try again.'); } } }); // Add time form document.getElementById('form-add-time').addEventListener('submit', async (e) => { e.preventDefault(); if (recordCount >= 999) { showMessage('Maximum limit of 999 records reached. Please delete some records first.'); return; } const btn = document.getElementById('btn-add-time'); btn.disabled = true; btn.textContent = 'Recording...'; const time = { id: Date.now().toString(), type: 'time', swimmer_name: document.getElementById('time-swimmer').value, event_name: document.getElementById('event-name').value, time: document.getElementById('time-value').value, date: document.getElementById('time-date').value, meet_name: document.getElementById('time-meet-name').value || '', created_at: new Date().toISOString() }; const result = await createRecord(time); btn.disabled = false; btn.textContent = 'â±ï¸ Record Time'; if (result.isOk) { e.target.reset(); } else { showMessage('Failed to record time. Please try again.'); } }); // Add meet form document.getElementById('form-add-meet').addEventListener('submit', async (e) => { e.preventDefault(); if (recordCount >= 999) { showMessage('Maximum limit of 999 records reached. Please delete some records first.'); return; } const btn = document.getElementById('btn-add-meet'); btn.disabled = true; btn.textContent = 'Adding...'; const meet = { id: Date.now().toString(), type: 'meet', event_name: document.getElementById('meet-name').value, date: document.getElementById('meet-date').value, meet_location: document.getElementById('meet-location').value, notes: document.getElementById('meet-notes').value || '', created_at: new Date().toISOString() }; const result = await createRecord(meet); btn.disabled = false; btn.textContent = 'ðŸ“… Add Meet'; if (result.isOk) { e.target.reset(); } else { showMessage('Failed to add meet. Please try again.'); } }); // Settings form document.getElementById('form-settings').addEventListener('submit', async (e) => { e.preventDefault(); const btn = document.getElementById('btn-save-settings'); btn.disabled = true; btn.textContent = 'Saving...'; const config = window.elementSdk ? window.elementSdk.config : defaultConfig; const updates = {}; const teamName = document.getElementById('settings-team-name').value; const coachName = document.getElementById('settings-coach-name').value; const tagline = document.getElementById('settings-tagline').value; const description = document.getElementById('settings-description').value; const weekday = document.getElementById('settings-weekday').value; const weekend = document.getElementById('settings-weekend').value; const location = document.getElementById('settings-location').value; const password = document.getElementById('settings-password').value; if (teamName) updates.team_name = teamName; if (coachName) updates.coach_name = coachName; if (tagline) updates.hero_tagline = tagline; if (description) updates.hero_description = description; if (weekday) updates.weekday_schedule = weekday; if (weekend) updates.weekend_schedule = weekend; if (location) updates.training_location = location; if (password) updates.admin_password = password; if (window.elementSdk && Object.keys(updates).length > 0) { await window.elementSdk.setConfig(updates); showMessage('Settings saved successfully!', 'success'); if (password) { document.getElementById('settings-password').value = ''; } } btn.disabled = false; btn.textContent = 'ðŸ’¾ Save Settings'; }); function loadSettingsForm() { const config = window.elementSdk ? window.elementSdk.config : defaultConfig; document.getElementById('settings-team-name').value = config.team_name || defaultConfig.team_name; document.getElementById('settings-coach-name').value = config.coach_name || defaultConfig.coach_name; document.getElementById('settings-tagline').value = config.hero_tagline || defaultConfig.hero_tagline; document.getElementById('settings-description').value = config.hero_description || defaultConfig.hero_description; document.getElementById('settings-weekday').value = config.weekday_schedule || defaultConfig.weekday_schedule; document.getElementById('settings-weekend').value = config.weekend_schedule || defaultConfig.weekend_schedule; document.getElementById('settings-location').value = config.training_location || defaultConfig.training_location; } function renderAdminView() { switch(adminView) { case 'swimmers': renderSwimmers(); break; case 'times': renderTimes(); break; case 'meets': renderMeets(); break; case 'news': renderNews(); break; } renderLandingNews(); } function renderSwimmers() { const swimmers = allData.filter(d => d.type === 'swimmer'); const container = document.getElementById('swimmers-list'); if (swimmers.length === 0) { container.innerHTML = '
No swimmers added yet. Add your first swimmer above!
'; return; } container.innerHTML = swimmers.map(swimmer => `
ðŸŠâ€â™‚ï¸ ${swimmer.swimmer_name}
ðŸŽ‚
Age
${swimmer.age} years
ðŸ‘¤
Parent
${swimmer.parent_name}
âœ‰ï¸
Email
${swimmer.parent_email}
âœï¸ Edit ðŸ—‘ï¸ Delete
`).join(''); } function renderNews() { const news = allData.filter(d => d.type === 'news'); const container = document.getElementById('news-list'); if (news.length === 0) { container.innerHTML = '
No news posted yet. Use the Data button above to add team news!
'; return; } const sortedNews = news.sort((a, b) => new Date(b.date) - new Date(a.date)); container.innerHTML = sortedNews.map(item => { let mediaHTML = ''; if (item.image_url) { mediaHTML += `
ï¿¼
`; } if (item.video_url) { const isYouTube = item.video_url.includes('youtube.com') || item.video_url.includes('youtu.be'); let videoId = ''; if (isYouTube) { const urlObj = new URL(item.video_url); videoId = urlObj.searchParams.get('v') || urlObj.pathname.split('/').pop(); mediaHTML += `

`; } else { mediaHTML += `
Your browser does not support the video tag.
`; } } return `
ðŸ“°
${item.news_title}
${new Date(item.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}
${item.news_content}
${mediaHTML}
ðŸ—‘ï¸ Delete
`; }).join(''); } function renderLandingNews() { const news = allData.filter(d => d.type === 'news'); const container = document.getElementById('landing-news-list'); if (!container) return; if (news.length === 0) { container.innerHTML = '
No news available at this time.
'; return; } const sortedNews = news.sort((a, b) => new Date(b.date) - new Date(a.date)); container.innerHTML = sortedNews.map(item => { let mediaHTML = ''; if (item.image_url) { mediaHTML += `
ï¿¼
`; } if (item.video_url) { const isYouTube = item.video_url.includes('youtube.com') || item.video_url.includes('youtu.be'); if (isYouTube) { const urlObj = new URL(item.video_url); const videoId = urlObj.searchParams.get('v') || urlObj.pathname.split('/').pop(); mediaHTML += `

`; } else { mediaHTML += `
Your browser does not support the video tag.
`; } } return `
ðŸ“°
${item.news_title}
${new Date(item.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}
${item.news_content}
${mediaHTML}
`; }).join(''); } function renderTimes() { const times = allData.filter(d => d.type === 'time'); const container = document.getElementById('times-list'); if (times.length === 0) { container.innerHTML = '
No times recorded yet. Add times using the form above!
'; return; } const sortedTimes = times.sort((a, b) => new Date(b.date) - new Date(a.date)); container.innerHTML = sortedTimes.map(time => `
${time.swimmer_name}
${time.event_name}
Time
${time.time}
Date
${new Date(time.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}
${time.meet_name ? `
Meet: ${time.meet_name}
` : ''}
ðŸ—‘ï¸ Delete
`).join(''); } function renderMeets() { const meets = allData.filter(d => d.type === 'meet'); const container = document.getElementById('meets-list'); if (meets.length === 0) { container.innerHTML = '
No upcoming meets scheduled. Add meets using the form above!
'; return; } const sortedMeets = meets.sort((a, b) => new Date(a.date) - new Date(b.date)); container.innerHTML = sortedMeets.map(meet => `
${meet.event_name}
ðŸ“…
Date
${new Date(meet.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}
ðŸ“
Location
${meet.meet_location}
${meet.notes ? `
ðŸ“ Important Notes
${meet.notes}
` : ''}
ðŸ—‘ï¸ Delete
`).join(''); } function updateSwimmerDropdown() { const swimmers = allData.filter(d => d.type === 'swimmer'); const select = document.getElementById('time-swimmer'); const currentValue = select.value; select.innerHTML = 'Select swimmer' + swimmers.map(s => `${s.swimmer_name}`).join(''); if (currentValue && swimmers.some(s => s.swimmer_name === currentValue)) { select.value = currentValue; } } function updateParentPortalDropdown() { const swimmers = allData.filter(d => d.type === 'swimmer'); const select = document.getElementById('parent-swimmer-select'); select.innerHTML = 'Choose your child...' + swimmers.map(s => `${s.swimmer_name}`).join(''); } document.getElementById('parent-swimmer-select').addEventListener('change', (e) => { const swimmerName = e.target.value; if (swimmerName) { renderParentPortal(swimmerName); document.getElementById('parent-portal-content').classList.remove('hidden'); } else { document.getElementById('parent-portal-content').classList.add('hidden'); } }); function renderParentPortal(swimmerName) { const swimmerTimes = allData.filter(d => d.type === 'time' && d.swimmer_name === swimmerName); const meets = allData.filter(d => d.type === 'meet'); const news = allData.filter(d => d.type === 'news'); document.getElementById('parent-swimmer-name').textContent = `${swimmerName}'s Performance`; const totalSwims = swimmerTimes.length; const uniqueEvents = new Set(swimmerTimes.map(t => t.event_name)).size; const eventBestTimes = {}; swimmerTimes.forEach(time => { if (!eventBestTimes[time.event_name] || timeToSeconds(time.time) < timeToSeconds(eventBestTimes[time.event_name].time)) { eventBestTimes[time.event_name] = time; } }); const personalRecords = Object.keys(eventBestTimes).length; document.getElementById('parent-stat-swims').textContent = totalSwims; document.getElementById('parent-stat-prs').textContent = personalRecords; document.getElementById('parent-stat-events').textContent = uniqueEvents; renderProgressionChart(swimmerName, swimmerTimes); renderEventBreakdown(swimmerName, swimmerTimes); renderParentMeets(meets); renderParentNews(news); } function renderProgressionChart(swimmerName, swimmerTimes) { const container = document.getElementById('parent-progression-chart'); if (swimmerTimes.length === 0) { container.innerHTML = '
No times recorded yet to show progression.
'; return; } const eventGroups = {}; swimmerTimes.forEach(time => { if (!eventGroups[time.event_name]) { eventGroups[time.event_name] = []; } eventGroups[time.event_name].push(time); }); const chartsHTML = Object.entries(eventGroups).map(([eventName, times], eventIndex) => { const sortedTimes = times.sort((a, b) => new Date(a.date) - new Date(b.date)); if (sortedTimes.length < 2) { return `
${eventName}
Need at least 2 recorded times to show progression
`; } const timeValues = sortedTimes.map(t => timeToSeconds(t.time)); const minTime = Math.min(...timeValues); const maxTime = Math.max(...timeValues); const timeRange = maxTime - minTime; const padding = timeRange * 0.2 || 1; const chartMin = minTime - padding; const chartMax = maxTime + padding; const chartRange = chartMax - chartMin; const chartHeight = 300; const chartWidth = 100; const leftMargin = 60; const rightMargin = 20; const topMargin = 20; const bottomMargin = 60; const points = sortedTimes.map((time, index) => { const x = leftMargin + (index / (sortedTimes.length - 1)) * (chartWidth - leftMargin - rightMargin); const seconds = timeToSeconds(time.time); const y = topMargin + ((chartMax - seconds) / chartRange) * (chartHeight - topMargin - bottomMargin); return { x, y, time, seconds, index }; }); const pathData = points.map((p, i) => `${i === 0 ? 'M' : 'L'} ${p.x}% ${p.y}`).join(' '); const yAxisLabels = []; const numLabels = 5; for (let i = 0; i <= numLabels; i++) { const seconds = chartMin + (i / numLabels) * chartRange; const y = topMargin + ((chartMax - seconds) / chartRange) * (chartHeight - topMargin - bottomMargin); yAxisLabels.push({ y, label: secondsToTime(seconds) }); } const firstTime = timeValues[0]; const lastTime = timeValues[timeValues.length - 1]; const improvement = firstTime - lastTime; const improvementPercent = (improvement / firstTime * 100).toFixed(1); let trendHTML = ''; if (improvement > 0) { trendHTML = `â†“ Improved by ${improvement.toFixed(2)}s (${improvementPercent}%)`; } else if (improvement < 0) { trendHTML = `â†‘ Slower by ${Math.abs(improvement).toFixed(2)}s (${Math.abs(improvementPercent)}%)`; } else { trendHTML = `â†’ No change`; } const colors = ['#06b6d4', '#3b82f6', '#8b5cf6', '#ec4899', '#f59e0b', '#10b981']; const lineColor = colors[eventIndex % colors.length]; return `
${eventName}
${trendHTML}
${yAxisLabels.map(label => `
${label.label}
`).join('')} ${yAxisLabels.map(label => ` `).join('')} ${points.map(p => ` `).join('')} ${points.map(p => { const date = new Date(p.time.date); const label = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }); return `
${label}
${p.time.time}
`; }).join('')}
First Time
${sortedTimes[0].time}
${new Date(sortedTimes[0].date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
Best Time
${secondsToTime(minTime)}
Latest Time
${sortedTimes[sortedTimes.length - 1].time}
${new Date(sortedTimes[sortedTimes.length - 1].date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
`; }).join(''); container.innerHTML = chartsHTML || '
No progression data available.
'; } function secondsToTime(seconds) { const mins = Math.floor(seconds / 60); const secs = (seconds % 60).toFixed(2); return `${mins}:${secs.padStart(5, '0')}`; } function renderEventBreakdown(swimmerName, swimmerTimes) { const container = document.getElementById('parent-event-breakdown'); if (swimmerTimes.length === 0) { container.innerHTML = '
No times recorded yet.
'; return; } const eventGroups = {}; swimmerTimes.forEach(time => { if (!eventGroups[time.event_name]) { eventGroups[time.event_name] = []; } eventGroups[time.event_name].push(time); }); container.innerHTML = Object.entries(eventGroups).map(([eventName, times]) => { const sortedTimes = times.sort((a, b) => new Date(b.date) - new Date(a.date)); const bestTime = times.reduce((best, current) => timeToSeconds(current.time) < timeToSeconds(best.time) ? current : best ); let improvementHTML = ''; if (sortedTimes.length > 1) { const latestTime = sortedTimes[0]; const oldestTime = sortedTimes[sortedTimes.length - 1]; const improvement = ((timeToSeconds(oldestTime.time) - timeToSeconds(latestTime.time)) / timeToSeconds(oldestTime.time) * 100); if (improvement > 0) { improvementHTML = `â†“ ${improvement.toFixed(1)}% faster`; } else if (improvement < 0) { improvementHTML = `â†‘ ${Math.abs(improvement).toFixed(1)}% slower`; } } return `
${eventName}
${improvementHTML ? `
${improvementHTML}
` : ''}
ðŸ† Personal Best
${bestTime.time}
${new Date(bestTime.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}
${bestTime.meet_name ? `
${bestTime.meet_name}
` : ''}
All Times (${sortedTimes.length} total):
${sortedTimes.map(time => { const isBest = time.time === bestTime.time && time.date === bestTime.date; const diff = timeToSeconds(time.time) - timeToSeconds(bestTime.time); const diffDisplay = diff === 0 ? 'PR' : `+${diff.toFixed(2)}s`; return ` `; }).join('')}
Date
Time
Meet
vs Best
${new Date(time.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}
${time.time} ${isBest ? 'ðŸ†' : ''}
${time.meet_name || 'Practice'}
${diffDisplay}
`; }).join(''); } function renderParentMeets(meets) { const container = document.getElementById('parent-meets-list'); if (meets.length === 0) { container.innerHTML = '
No upcoming meets scheduled.
'; return; } const sortedMeets = meets.sort((a, b) => new Date(a.date) - new Date(b.date)); container.innerHTML = sortedMeets.map(meet => `
${meet.event_name}
ðŸ“…
Date: ${new Date(meet.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}
ðŸ“
Location: ${meet.meet_location}
${meet.notes ? `
ðŸ“ Notes: ${meet.notes}
` : ''}
`).join(''); } function renderParentNews(news) { const container = document.getElementById('parent-news-list'); if (news.length === 0) { container.innerHTML = '
No team news available yet.
'; return; } const sortedNews = news.sort((a, b) => new Date(b.date) - new Date(a.date)); container.innerHTML = sortedNews.map(item => { let mediaHTML = ''; if (item.image_url) { mediaHTML += `
ï¿¼
`; } if (item.video_url) { const isYouTube = item.video_url.includes('youtube.com') || item.video_url.includes('youtu.be'); if (isYouTube) { const urlObj = new URL(item.video_url); const videoId = urlObj.searchParams.get('v') || urlObj.pathname.split('/').pop(); mediaHTML += `

`; } else { mediaHTML += `
Your browser does not support the video tag.
`; } } return `
ðŸ“°
${item.news_title}
${new Date(item.date).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}
${item.news_content}
${mediaHTML}
`; }).join(''); } function timeToSeconds(timeString) { const parts = timeString.split(':'); const minutes = parseInt(parts[0]); const seconds = parseFloat(parts[1]); return minutes * 60 + seconds; } async function deleteRecord(backendId) { const record = allData.find(r => r.__backendId === backendId); if (!record) return; const result = await deleteRecordLocal(record); if (!result.isOk) { showMessage('Failed to delete record. Please try again.'); } } function editSwimmer(backendId) { const swimmer = allData.find(r => r.__backendId === backendId && r.type === 'swimmer'); if (!swimmer) return; document.getElementById('swimmer-name').value = swimmer.swimmer_name; document.getElementById('swimmer-age').value = swimmer.age; document.getElementById('parent-name').value = swimmer.parent_name; document.getElementById('parent-email').value = swimmer.parent_email; const formTitle = document.querySelector('#view-swimmers h2'); formTitle.textContent = 'Edit Swimmer'; const submitBtn = document.getElementById('btn-add-swimmer'); submitBtn.textContent = 'ðŸ’¾ Update Swimmer'; const form = document.getElementById('form-add-swimmer'); const cancelBtn = document.createElement('button'); cancelBtn.type = 'button'; cancelBtn.className = 'md:col-span-2 w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-4 rounded-xl transition-all'; cancelBtn.textContent = 'Cancel Edit'; cancelBtn.onclick = () => { form.reset(); formTitle.textContent = 'Add New Swimmer'; submitBtn.textContent = 'ðŸŠâ€â™‚ï¸ Add Swimmer'; cancelBtn.remove(); delete form.dataset.editId; }; if (!document.querySelector('#form-add-swimmer button[type="button"]')) { form.appendChild(cancelBtn); } form.dataset.editId = backendId; document.querySelector('#view-swimmers').scrollIntoView({ behavior: 'smooth' }); } function showMessage(message, type = 'error') { const messageDiv = document.createElement('div'); const bgColor = type === 'success' ? 'bg-green-500' : 'bg-red-500'; messageDiv.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50`; messageDiv.textContent = message; document.body.appendChild(messageDiv); setTimeout(() => { messageDiv.remove(); }, 3000); } window.deleteRecord = deleteRecord; window.editSwimmer = editSwimmer;
